{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"teehistorian-py","text":"<p>High-performance Python bindings for parsing teehistorian files, written in Rust using PyO3.</p>"},{"location":"#features","title":"Features","text":"<ul> <li>Fast: Written in Rust for maximum performance</li> <li>Pythonic: Clean Python API with type hints</li> <li>Memory Efficient: Zero-copy parsing where possible</li> <li>Type Safe: Strong typing for all chunk types</li> <li>Easy to Use: Simple iterator-based interface</li> </ul>"},{"location":"#quick-example","title":"Quick Example","text":"<pre><code>import teehistorian_py as th\n\n# Parse a teehistorian file\nwith open(\"demo.teehistorian\", \"rb\") as f:\n    data = f.read()\n\nparser = th.Teehistorian(data)\n\n# Iterate over chunks\nfor chunk in parser:\n    if isinstance(chunk, th.Join):\n        print(f\"Player {chunk.client_id} joined\")\n    elif isinstance(chunk, th.Drop):\n        print(f\"Player {chunk.client_id} left: {chunk.reason}\")\n</code></pre>"},{"location":"#installation","title":"Installation","text":"<pre><code>pip install teehistorian-py\n</code></pre>"},{"location":"#documentation","title":"Documentation","text":"<ul> <li>Installation Guide</li> <li>Quick Start</li> <li>API Reference</li> </ul>"},{"location":"#links","title":"Links","text":"<ul> <li>GitHub Repository</li> <li>PyPI Package</li> <li>Issue Tracker</li> </ul>"},{"location":"#license","title":"License","text":"<p>This project is licensed under the MIT License - see the LICENSE file for details.</p>"},{"location":"changelog/","title":"Changelog","text":"<p>All notable changes to this project will be documented in this file.</p> <p>The format is based on Keep a Changelog, and this project adheres to Semantic Versioning.</p>"},{"location":"changelog/#200-2025-01-16","title":"[2.0.0] - 2025-01-16","text":""},{"location":"changelog/#added","title":"Added","text":"<ul> <li>Complete rewrite in Rust using PyO3 for better performance</li> <li>Type-safe chunk definitions</li> <li>Comprehensive error types: <code>ParseError</code>, <code>ValidationError</code>, <code>FileError</code></li> <li><code>TeehistorianParser</code> alias for backward compatibility</li> <li>Better validation for invalid teehistorian files</li> <li>Full type hints support</li> </ul>"},{"location":"changelog/#changed","title":"Changed","text":"<ul> <li>Improved API design with iterator pattern</li> <li>Enhanced error messages</li> <li>Better memory efficiency</li> </ul>"},{"location":"changelog/#fixed","title":"Fixed","text":"<ul> <li>Memory leaks in chunk processing</li> <li>Edge cases in file parsing</li> <li>Unicode handling in strings</li> </ul>"},{"location":"changelog/#100-previous-release","title":"[1.0.0] - Previous Release","text":""},{"location":"changelog/#added_1","title":"Added","text":"<ul> <li>Initial Python implementation</li> <li>Basic teehistorian parsing</li> <li>Chunk type definitions</li> </ul>"},{"location":"contributing/","title":"Contributing","text":"<p>Thank you for your interest in contributing to teehistorian-py!</p>"},{"location":"contributing/#development-setup","title":"Development Setup","text":"<ol> <li>Fork and clone the repository</li> <li>Install Rust and Python dependencies</li> <li>Set up the development environment:</li> </ol> <pre><code># Create virtual environment\npython -m venv .venv\nsource .venv/bin/activate\n\n# Install development dependencies\npip install maturin pytest pytest-cov black isort mypy\n\n# Build the extension\nmaturin develop\n</code></pre>"},{"location":"contributing/#running-tests","title":"Running Tests","text":"<pre><code># Run Python tests\npytest tests/ -v\n\n# Run with coverage\npytest tests/ --cov=teehistorian_py --cov-report=html\n</code></pre>"},{"location":"contributing/#code-quality","title":"Code Quality","text":"<pre><code># Format Rust code\ncargo fmt\n\n# Lint Rust code\ncargo clippy -- -D warnings\n\n# Format Python code\nblack .\nisort .\n\n# Type check Python code\nmypy .\n</code></pre>"},{"location":"contributing/#making-changes","title":"Making Changes","text":"<ol> <li>Create a new branch for your feature</li> <li>Make your changes</li> <li>Add tests for new functionality</li> <li>Ensure all tests pass</li> <li>Run code formatters and linters</li> <li>Submit a pull request</li> </ol>"},{"location":"contributing/#pull-request-guidelines","title":"Pull Request Guidelines","text":"<ul> <li>Write clear commit messages</li> <li>Include tests for new features</li> <li>Update documentation as needed</li> <li>Ensure CI passes</li> <li>Keep changes focused and atomic</li> </ul>"},{"location":"contributing/#reporting-issues","title":"Reporting Issues","text":"<p>Use the GitHub issue tracker to report bugs or suggest features.</p> <p>Include: - Clear description of the issue - Steps to reproduce (for bugs) - Expected vs actual behavior - Environment details (OS, Python version, etc.)</p>"},{"location":"api/chunks/","title":"Chunks API","text":"<p>All chunk types share common methods and follow a consistent interface.</p>"},{"location":"api/chunks/#common-methods","title":"Common Methods","text":"<p>All chunk types implement these methods:</p>"},{"location":"api/chunks/#chunk_type-str","title":"<code>chunk_type() -&gt; str</code>","text":"<p>Returns the chunk type as a string.</p>"},{"location":"api/chunks/#to_dict-dict","title":"<code>to_dict() -&gt; dict</code>","text":"<p>Converts the chunk to a dictionary for easier inspection.</p>"},{"location":"api/chunks/#__repr__-str","title":"<code>__repr__() -&gt; str</code>","text":"<p>Returns a string representation of the chunk.</p>"},{"location":"api/chunks/#__str__-str","title":"<code>__str__() -&gt; str</code>","text":"<p>Returns a human-readable string representation.</p>"},{"location":"api/chunks/#chunk-type-reference","title":"Chunk Type Reference","text":"<p>See Chunk Types for a complete list of all available chunk types and their attributes.</p>"},{"location":"api/chunks/#player-lifecycle-chunks","title":"Player Lifecycle Chunks","text":"<ul> <li><code>Join</code></li> <li><code>JoinVer6</code></li> <li><code>Drop</code></li> <li><code>PlayerReady</code></li> </ul>"},{"location":"api/chunks/#player-state-chunks","title":"Player State Chunks","text":"<ul> <li><code>PlayerNew</code></li> <li><code>PlayerOld</code></li> <li><code>PlayerTeam</code></li> <li><code>PlayerName</code></li> <li><code>PlayerDiff</code></li> </ul>"},{"location":"api/chunks/#input-chunks","title":"Input Chunks","text":"<ul> <li><code>InputNew</code></li> <li><code>InputDiff</code></li> </ul>"},{"location":"api/chunks/#communication-chunks","title":"Communication Chunks","text":"<ul> <li><code>NetMessage</code></li> <li><code>ConsoleCommand</code></li> </ul>"},{"location":"api/chunks/#authentication-version-chunks","title":"Authentication &amp; Version Chunks","text":"<ul> <li><code>AuthLogin</code></li> <li><code>DdnetVersion</code></li> </ul>"},{"location":"api/chunks/#server-event-chunks","title":"Server Event Chunks","text":"<ul> <li><code>TickSkip</code></li> <li><code>TeamLoadSuccess</code></li> <li><code>TeamLoadFailure</code></li> <li><code>AntiBot</code></li> </ul>"},{"location":"api/chunks/#special-chunks","title":"Special Chunks","text":"<ul> <li><code>Eos</code></li> <li><code>Unknown</code></li> <li><code>CustomChunk</code></li> <li><code>Generic</code></li> </ul>"},{"location":"api/errors/","title":"Errors API","text":""},{"location":"api/errors/#exception-hierarchy","title":"Exception Hierarchy","text":"<pre><code>TeehistorianError\n\u251c\u2500\u2500 ParseError\n\u251c\u2500\u2500 ValidationError\n\u2514\u2500\u2500 FileError\n</code></pre>"},{"location":"api/errors/#teehistorianerror","title":"TeehistorianError","text":"<p>Base exception for all teehistorian parsing errors.</p> <p>All other exceptions inherit from this class.</p> <p>Usage: <pre><code>try:\n    parser = th.Teehistorian(data)\nexcept th.TeehistorianError as e:\n    print(f\"Error: {e}\")\n</code></pre></p>"},{"location":"api/errors/#parseerror","title":"ParseError","text":"<p>Exception for parsing errors.</p> <p>Inherits from <code>TeehistorianError</code>.</p> <p>Raised when the parser encounters invalid data or cannot parse a chunk.</p> <p>Usage: <pre><code>try:\n    parser = th.Teehistorian(corrupted_data)\n    for chunk in parser:\n        pass\nexcept th.ParseError as e:\n    print(f\"Parse failed: {e}\")\n</code></pre></p>"},{"location":"api/errors/#validationerror","title":"ValidationError","text":"<p>Exception for validation errors.</p> <p>Inherits from <code>TeehistorianError</code>.</p> <p>Raised when input data fails validation checks (e.g., empty data, too short, invalid format).</p> <p>Usage: <pre><code>try:\n    parser = th.Teehistorian(b\"\")\nexcept th.ValidationError as e:\n    print(f\"Validation failed: {e}\")\n</code></pre></p>"},{"location":"api/errors/#fileerror","title":"FileError","text":"<p>Exception for file I/O errors.</p> <p>Inherits from <code>TeehistorianError</code>.</p> <p>Raised when there are issues reading or accessing the file.</p> <p>Usage: <pre><code>try:\n    with open(\"demo.teehistorian\", \"rb\") as f:\n        data = f.read()\n    parser = th.Teehistorian(data)\nexcept th.FileError as e:\n    print(f\"File error: {e}\")\n</code></pre></p>"},{"location":"api/errors/#error-handling-best-practices","title":"Error Handling Best Practices","text":"<ol> <li>Catch specific exceptions first: Handle more specific exceptions before the base exception</li> <li>Provide context: Include filename or other context in error messages</li> <li>Log errors appropriately: Use Python's logging module for production code</li> <li>Clean up resources: Use context managers for file handling</li> </ol> <p>See Error Handling Guide for more detailed information and examples.</p>"},{"location":"api/parser/","title":"Parser API","text":""},{"location":"api/parser/#teehistorian","title":"Teehistorian","text":"<p>The main parser class for teehistorian files.</p>"},{"location":"api/parser/#constructor","title":"Constructor","text":"<pre><code>Teehistorian(data: bytes) -&gt; Teehistorian\n</code></pre> <p>Creates a new teehistorian parser from raw bytes.</p> <p>Parameters: - <code>data</code> (bytes): Raw teehistorian file data</p> <p>Returns: - <code>Teehistorian</code>: A new parser instance</p> <p>Raises: - <code>ValidationError</code>: If the data is empty or too short - <code>ParseError</code>: If the file format is invalid</p> <p>Example: <pre><code>with open(\"demo.teehistorian\", \"rb\") as f:\n    data = f.read()\n\nparser = th.Teehistorian(data)\n</code></pre></p>"},{"location":"api/parser/#methods","title":"Methods","text":""},{"location":"api/parser/#__iter__","title":"<code>__iter__()</code>","text":"<p>Returns the parser itself as an iterator.</p>"},{"location":"api/parser/#__next__","title":"<code>__next__()</code>","text":"<p>Returns the next chunk from the parser.</p> <p>Returns: - Chunk object or <code>None</code> at EOF</p> <p>Raises: - <code>ParseError</code>: If chunk parsing fails</p>"},{"location":"api/parser/#header","title":"<code>header()</code>","text":"<p>Get the header data as bytes.</p> <p>Returns: - <code>bytes</code>: Header bytes</p> <p>Raises: - <code>ParseError</code>: If header parsing fails</p>"},{"location":"api/parser/#register_custom_uuiduuid_string-str","title":"<code>register_custom_uuid(uuid_string: str)</code>","text":"<p>Register a custom UUID handler.</p> <p>Parameters: - <code>uuid_string</code> (str): The UUID string to register</p> <p>Returns: - <code>None</code></p> <p>Raises: - <code>ValidationError</code>: If UUID format is invalid</p>"},{"location":"api/parser/#get_registered_uuids","title":"<code>get_registered_uuids()</code>","text":"<p>Get registered handler UUIDs.</p> <p>Returns: - <code>list[str]</code>: List of registered UUID strings</p>"},{"location":"api/parser/#properties","title":"Properties","text":""},{"location":"api/parser/#chunk_count","title":"<code>chunk_count</code>","text":"<p>Get the current chunk count.</p> <p>Returns: - <code>int</code>: Number of chunks processed</p>"},{"location":"api/parser/#teehistorianparser","title":"TeehistorianParser","text":"<p>Alias for <code>Teehistorian</code> provided for backward compatibility.</p> <pre><code>TeehistorianParser = Teehistorian\n</code></pre>"},{"location":"getting-started/installation/","title":"Installation","text":""},{"location":"getting-started/installation/#requirements","title":"Requirements","text":"<ul> <li>Python 3.8 or higher</li> <li>pip</li> </ul>"},{"location":"getting-started/installation/#install-from-pypi","title":"Install from PyPI","text":"<p>The easiest way to install teehistorian-py is from PyPI:</p> <pre><code>pip install teehistorian-py\n</code></pre>"},{"location":"getting-started/installation/#install-from-source","title":"Install from Source","text":"<p>If you want to install from source or contribute to development:</p>"},{"location":"getting-started/installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Rust toolchain (1.70+)</li> <li>Python 3.8+</li> <li>pip</li> </ul>"},{"location":"getting-started/installation/#steps","title":"Steps","text":"<ol> <li> <p>Clone the repository: <pre><code>git clone https://github.com/KoG-teeworlds/teehistorian-py.git\ncd teehistorian-py\n</code></pre></p> </li> <li> <p>Create a virtual environment (recommended): <pre><code>python -m venv .venv\nsource .venv/bin/activate  # On Windows: .venv\\Scripts\\activate\n</code></pre></p> </li> <li> <p>Install maturin: <pre><code>pip install maturin\n</code></pre></p> </li> <li> <p>Build and install: <pre><code>maturin develop --release\n</code></pre></p> </li> </ol>"},{"location":"getting-started/installation/#verify-installation","title":"Verify Installation","text":"<pre><code>import teehistorian_py as th\nprint(th.__version__)\n</code></pre>"},{"location":"getting-started/installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/installation/#rust-not-found","title":"Rust Not Found","text":"<p>If you get an error about Rust not being found, install it from rustup.rs.</p>"},{"location":"getting-started/installation/#build-errors","title":"Build Errors","text":"<p>Make sure you have the latest version of pip and maturin: <pre><code>pip install --upgrade pip maturin\n</code></pre></p>"},{"location":"getting-started/quickstart/","title":"Quick Start","text":""},{"location":"getting-started/quickstart/#basic-usage","title":"Basic Usage","text":"<p>Here's a simple example to get you started with teehistorian-py:</p> <pre><code>import teehistorian_py as th\n\n# Read the teehistorian file\nwith open(\"demo.teehistorian\", \"rb\") as f:\n    data = f.read()\n\n# Create parser\nparser = th.Teehistorian(data)\n\n# Iterate over chunks\nfor chunk in parser:\n    print(chunk)\n</code></pre>"},{"location":"getting-started/quickstart/#filtering-specific-events","title":"Filtering Specific Events","text":"<p>You can filter for specific chunk types:</p> <pre><code>import teehistorian_py as th\n\nwith open(\"demo.teehistorian\", \"rb\") as f:\n    data = f.read()\n\nparser = th.Teehistorian(data)\n\n# Track player joins and drops\nfor chunk in parser:\n    if isinstance(chunk, th.Join):\n        print(f\"Player {chunk.client_id} joined the server\")\n    elif isinstance(chunk, th.Drop):\n        print(f\"Player {chunk.client_id} left: {chunk.reason}\")\n</code></pre>"},{"location":"getting-started/quickstart/#accessing-chunk-data","title":"Accessing Chunk Data","text":"<p>Each chunk type has specific attributes:</p> <pre><code>import teehistorian_py as th\n\nwith open(\"demo.teehistorian\", \"rb\") as f:\n    data = f.read()\n\nparser = th.Teehistorian(data)\n\nfor chunk in parser:\n    if isinstance(chunk, th.PlayerNew):\n        print(f\"Player {chunk.client_id} spawned at ({chunk.x}, {chunk.y})\")\n    elif isinstance(chunk, th.ConsoleCommand):\n        print(f\"Player {chunk.client_id} executed: {chunk.command} {chunk.args}\")\n</code></pre>"},{"location":"getting-started/quickstart/#error-handling","title":"Error Handling","text":"<p>Handle parsing errors gracefully:</p> <pre><code>import teehistorian_py as th\n\ntry:\n    with open(\"demo.teehistorian\", \"rb\") as f:\n        data = f.read()\n\n    parser = th.Teehistorian(data)\n\n    for chunk in parser:\n        # Process chunks\n        pass\n\nexcept th.ValidationError as e:\n    print(f\"Invalid file format: {e}\")\nexcept th.ParseError as e:\n    print(f\"Parse error: {e}\")\nexcept th.TeehistorianError as e:\n    print(f\"General error: {e}\")\n</code></pre>"},{"location":"getting-started/quickstart/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about all chunk types</li> <li>Explore error handling</li> <li>Check the API reference</li> </ul>"},{"location":"guide/basic-usage/","title":"Basic Usage","text":""},{"location":"guide/basic-usage/#creating-a-parser","title":"Creating a Parser","text":"<p>The <code>Teehistorian</code> class is the main entry point for parsing teehistorian files:</p> <pre><code>import teehistorian_py as th\n\n# Read the file\nwith open(\"demo.teehistorian\", \"rb\") as f:\n    data = f.read()\n\n# Create the parser\nparser = th.Teehistorian(data)\n</code></pre>"},{"location":"guide/basic-usage/#iterating-over-chunks","title":"Iterating Over Chunks","text":"<p>The parser implements the iterator protocol, allowing you to loop over all chunks:</p> <pre><code>for chunk in parser:\n    print(f\"Chunk type: {chunk.chunk_type()}\")\n    print(f\"Chunk data: {chunk}\")\n</code></pre>"},{"location":"guide/basic-usage/#using-teehistorianparser-alias","title":"Using TeehistorianParser Alias","text":"<p>For backward compatibility, you can also use <code>TeehistorianParser</code>:</p> <pre><code># These are equivalent\nparser1 = th.Teehistorian(data)\nparser2 = th.TeehistorianParser(data)\n</code></pre>"},{"location":"guide/basic-usage/#converting-chunks-to-dictionaries","title":"Converting Chunks to Dictionaries","text":"<p>All chunks can be converted to dictionaries for easier inspection:</p> <pre><code>for chunk in parser:\n    chunk_dict = chunk.to_dict()\n    print(chunk_dict)\n</code></pre>"},{"location":"guide/basic-usage/#getting-parser-statistics","title":"Getting Parser Statistics","text":"<p>You can access the chunk count during iteration:</p> <pre><code>parser = th.Teehistorian(data)\n\nfor chunk in parser:\n    # Process chunk\n    pass\n\nprint(f\"Processed {parser.chunk_count} chunks\")\n</code></pre>"},{"location":"guide/chunk-types/","title":"Chunk Types","text":""},{"location":"guide/chunk-types/#player-lifecycle","title":"Player Lifecycle","text":""},{"location":"guide/chunk-types/#join","title":"Join","text":"<p>Player joins the server.</p> <pre><code>chunk.client_id  # int\n</code></pre>"},{"location":"guide/chunk-types/#joinver6","title":"JoinVer6","text":"<p>Player joins with version 6 protocol.</p> <pre><code>chunk.client_id  # int\n</code></pre>"},{"location":"guide/chunk-types/#drop","title":"Drop","text":"<p>Player disconnects from the server.</p> <pre><code>chunk.client_id  # int\nchunk.reason     # str\n</code></pre>"},{"location":"guide/chunk-types/#playerready","title":"PlayerReady","text":"<p>Player becomes ready to play.</p> <pre><code>chunk.client_id  # int\n</code></pre>"},{"location":"guide/chunk-types/#player-state","title":"Player State","text":""},{"location":"guide/chunk-types/#playernew","title":"PlayerNew","text":"<p>New player spawn position.</p> <pre><code>chunk.client_id  # int\nchunk.x          # int\nchunk.y          # int\n</code></pre>"},{"location":"guide/chunk-types/#playerold","title":"PlayerOld","text":"<p>Player leaves the game (but not server).</p> <pre><code>chunk.client_id  # int\n</code></pre>"},{"location":"guide/chunk-types/#playerteam","title":"PlayerTeam","text":"<p>Player changes team.</p> <pre><code>chunk.client_id  # int\nchunk.team       # int\n</code></pre>"},{"location":"guide/chunk-types/#playername","title":"PlayerName","text":"<p>Player changes name.</p> <pre><code>chunk.client_id  # int\nchunk.name       # str\n</code></pre>"},{"location":"guide/chunk-types/#playerdiff","title":"PlayerDiff","text":"<p>Player position difference/update.</p> <pre><code>chunk.client_id  # int\nchunk.dx         # int\nchunk.dy         # int\n</code></pre>"},{"location":"guide/chunk-types/#input-events","title":"Input Events","text":""},{"location":"guide/chunk-types/#inputnew","title":"InputNew","text":"<p>New player input state.</p> <pre><code>chunk.client_id  # int\nchunk.input      # str\n</code></pre>"},{"location":"guide/chunk-types/#inputdiff","title":"InputDiff","text":"<p>Player input difference from previous state.</p> <pre><code>chunk.client_id  # int\nchunk.input      # List[int]\n</code></pre>"},{"location":"guide/chunk-types/#communication","title":"Communication","text":""},{"location":"guide/chunk-types/#netmessage","title":"NetMessage","text":"<p>Network message from/to player.</p> <pre><code>chunk.client_id  # int\nchunk.message    # str\n</code></pre>"},{"location":"guide/chunk-types/#consolecommand","title":"ConsoleCommand","text":"<p>Console command executed by player.</p> <pre><code>chunk.client_id  # int\nchunk.flags      # int\nchunk.command    # str\nchunk.args       # str\n</code></pre>"},{"location":"guide/chunk-types/#authentication-version","title":"Authentication &amp; Version","text":""},{"location":"guide/chunk-types/#authlogin","title":"AuthLogin","text":"<p>Player authentication/login.</p> <pre><code>chunk.client_id  # int\nchunk.level      # int\nchunk.name       # str\n</code></pre>"},{"location":"guide/chunk-types/#ddnetversion","title":"DdnetVersion","text":"<p>DDNet client version information.</p> <pre><code>chunk.client_id     # int\nchunk.connection_id # str\nchunk.version       # int\nchunk.version_str   # bytes\n</code></pre>"},{"location":"guide/chunk-types/#server-events","title":"Server Events","text":""},{"location":"guide/chunk-types/#tickskip","title":"TickSkip","text":"<p>Server tick skip.</p> <pre><code>chunk.dt  # int\n</code></pre>"},{"location":"guide/chunk-types/#teamloadsuccess","title":"TeamLoadSuccess","text":"<p>Team save loaded successfully.</p> <pre><code>chunk.team  # int\nchunk.save  # str\n</code></pre>"},{"location":"guide/chunk-types/#teamloadfailure","title":"TeamLoadFailure","text":"<p>Team save load failed.</p> <pre><code>chunk.team  # int\n</code></pre>"},{"location":"guide/chunk-types/#antibot","title":"AntiBot","text":"<p>Anti-bot system event.</p> <pre><code>chunk.data  # str\n</code></pre>"},{"location":"guide/chunk-types/#special-chunks","title":"Special Chunks","text":""},{"location":"guide/chunk-types/#eos","title":"Eos","text":"<p>End of stream marker.</p> <p>No attributes.</p>"},{"location":"guide/chunk-types/#unknown","title":"Unknown","text":"<p>Unknown chunk with UUID.</p> <pre><code>chunk.uuid  # str\nchunk.data  # bytes\n</code></pre>"},{"location":"guide/chunk-types/#customchunk","title":"CustomChunk","text":"<p>Custom chunk with registered handler.</p> <pre><code>chunk.uuid          # str\nchunk.data          # bytes\nchunk.handler_name  # str\n</code></pre>"},{"location":"guide/chunk-types/#generic","title":"Generic","text":"<p>Generic/fallback chunk type.</p> <pre><code>chunk.data  # str\n</code></pre>"},{"location":"guide/error-handling/","title":"Error Handling","text":""},{"location":"guide/error-handling/#exception-hierarchy","title":"Exception Hierarchy","text":"<p>teehistorian-py provides a hierarchy of exceptions for different error scenarios:</p> <pre><code>TeehistorianError (base exception)\n\u251c\u2500\u2500 ParseError (parsing errors)\n\u251c\u2500\u2500 ValidationError (validation errors)\n\u2514\u2500\u2500 FileError (I/O errors)\n</code></pre>"},{"location":"guide/error-handling/#basic-error-handling","title":"Basic Error Handling","text":"<pre><code>import teehistorian_py as th\n\ntry:\n    with open(\"demo.teehistorian\", \"rb\") as f:\n        data = f.read()\n\n    parser = th.Teehistorian(data)\n\n    for chunk in parser:\n        # Process chunks\n        pass\n\nexcept th.TeehistorianError as e:\n    print(f\"Error: {e}\")\n</code></pre>"},{"location":"guide/error-handling/#handling-specific-errors","title":"Handling Specific Errors","text":""},{"location":"guide/error-handling/#validationerror","title":"ValidationError","text":"<p>Raised when the input data fails validation:</p> <pre><code>try:\n    parser = th.Teehistorian(b\"\")  # Empty data\nexcept th.ValidationError as e:\n    print(f\"Invalid data: {e}\")\n    # Output: Invalid data: Validation failed: Cannot parse empty data\n</code></pre>"},{"location":"guide/error-handling/#parseerror","title":"ParseError","text":"<p>Raised when parsing fails:</p> <pre><code>try:\n    parser = th.Teehistorian(invalid_data)\n    for chunk in parser:\n        pass\nexcept th.ParseError as e:\n    print(f\"Parse failed: {e}\")\n</code></pre>"},{"location":"guide/error-handling/#fileerror","title":"FileError","text":"<p>Raised for I/O related errors:</p> <pre><code>try:\n    with open(\"demo.teehistorian\", \"rb\") as f:\n        data = f.read()\n    parser = th.Teehistorian(data)\nexcept th.FileError as e:\n    print(f\"File error: {e}\")\nexcept FileNotFoundError:\n    print(\"File not found\")\n</code></pre>"},{"location":"guide/error-handling/#comprehensive-error-handling","title":"Comprehensive Error Handling","text":"<pre><code>import teehistorian_py as th\n\ndef parse_teehistorian_file(filename):\n    try:\n        # Read file\n        with open(filename, \"rb\") as f:\n            data = f.read()\n\n        # Create parser\n        parser = th.Teehistorian(data)\n\n        # Process chunks\n        chunks = []\n        for chunk in parser:\n            chunks.append(chunk)\n\n        return chunks\n\n    except FileNotFoundError:\n        print(f\"File not found: {filename}\")\n        return None\n\n    except th.ValidationError as e:\n        print(f\"Invalid teehistorian file: {e}\")\n        return None\n\n    except th.ParseError as e:\n        print(f\"Failed to parse file: {e}\")\n        return None\n\n    except th.FileError as e:\n        print(f\"I/O error: {e}\")\n        return None\n\n    except th.TeehistorianError as e:\n        print(f\"Unexpected error: {e}\")\n        return None\n</code></pre>"},{"location":"guide/error-handling/#best-practices","title":"Best Practices","text":"<ol> <li>Always validate input: Check file existence and size before parsing</li> <li>Catch specific exceptions first: Handle <code>ValidationError</code>, <code>ParseError</code>, and <code>FileError</code> before the base <code>TeehistorianError</code></li> <li>Provide meaningful error messages: Help users understand what went wrong</li> <li>Clean up resources: Use context managers (<code>with</code> statements) for file handling</li> <li>Log errors appropriately: Consider using Python's logging module for production code</li> </ol>"},{"location":"guide/error-handling/#example-with-logging","title":"Example with Logging","text":"<pre><code>import logging\nimport teehistorian_py as th\n\nlogging.basicConfig(level=logging.INFO)\nlogger = logging.getLogger(__name__)\n\ndef parse_file(filename):\n    try:\n        with open(filename, \"rb\") as f:\n            data = f.read()\n\n        logger.info(f\"Parsing {filename} ({len(data)} bytes)\")\n        parser = th.Teehistorian(data)\n\n        chunk_count = 0\n        for chunk in parser:\n            chunk_count += 1\n\n        logger.info(f\"Successfully parsed {chunk_count} chunks\")\n\n    except th.ValidationError as e:\n        logger.error(f\"Validation error in {filename}: {e}\")\n    except th.ParseError as e:\n        logger.error(f\"Parse error in {filename}: {e}\")\n    except Exception as e:\n        logger.exception(f\"Unexpected error parsing {filename}\")\n</code></pre>"}]}